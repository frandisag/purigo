<!--
  Generated template for the AddticketPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Edit Ticket</ion-title>
    <ion-buttons end style="padding-right: 5px;" *ngIf = "statusValue.status">
      <button ion-button icon-only (tap)="openCamera()">
        <ion-icon name="camera"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons end style="padding-right: 5px;" *ngIf = "statusValue.status">
      <button ion-button icon-only (tap)="updateAdmTicket(ticketData.status)">
        <ion-icon name="checkmark"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

	
<ion-content>
	<ion-list>
		<ion-item-group>
		  <ion-item-divider color="dark">
				Ticket Submit
		  </ion-item-divider>

		  <ion-item *ngIf = "ticketData.img_status">
		  	<img-loader src="{{ticketData.img_submit}}" useImg></img-loader>
		  </ion-item>

		  <ion-item [hidden]="true">
				<ion-input type="text" name="text_id" value ="{{ticketData.ticket_id}}"></ion-input>
		  </ion-item>

		  <ion-item>
		  	<ion-label floating>Subject</ion-label>
		  	<ion-input type="text" [(ngModel)]="ticketData.subject" readonly value="{{ticketData.subject}}"></ion-input>
		  </ion-item>

		  <ion-item>
		  	<ion-label floating>Created By</ion-label>
		  	<ion-input type="text" [(ngModel)]="ticketData.name" readonly value="{{ticketData.name}}"></ion-input>
		  </ion-item>

		  <ion-item>
		    <ion-label floating>Category</ion-label>
		    <ion-input type="text" [(ngModel)]="ticketData.category" readonly value="{{ticketData.category}}"></ion-input>
		  </ion-item>

		  <ion-item>
		    <ion-label floating>Location</ion-label>
		    <ion-input type="text" [(ngModel)]="ticketData.location" readonly value="{{ticketData.location}}"></ion-input>
		  </ion-item>

		  <ion-item>
		  	<ion-label floating>Desc Detail</ion-label>
		  	<ion-textarea rows="3" [(ngModel)]="ticketData.description" readonly></ion-textarea>
		  </ion-item>

		  <ion-item *ngIf = "closedReason.status">
		  	<ion-label floating>Closed Reason</ion-label>
		  	<ion-textarea [(ngModel)]="ticketData.closed_reason" readonly rows="3"></ion-textarea>
		  </ion-item>
		</ion-item-group>

		<ion-item-group>
			<ion-item-divider color="dark">
		  	Ticket Action
		  </ion-item-divider>

		  <ion-item [hidden]="statuslastImage.status">
		  	<img src="{{ticketData.img_path}}" imageViewer >
		  </ion-item>
		  
		  <ion-item>
		  	<ion-label>Status</ion-label>
		  	<ion-select [(ngModel)]="ticketData.status">
		      <ion-option value="Open" *ngIf = "optionValue.open">Open</ion-option>
		      <ion-option value="Respon" *ngIf = "optionValue.respon">Respon</ion-option>
		      <ion-option value="Fixed" *ngIf = "optionValue.fixed">Fixed</ion-option>
		      <ion-option value="Closed" *ngIf = "optionValue.closed">Closed</ion-option>
		    </ion-select>
		  </ion-item>

		  <ion-item>
		  	<ion-label floating>Action</ion-label>
		  	<ion-textarea [(ngModel)]="ticketData.action_reason" rows="3"></ion-textarea>
		  </ion-item>

		  <div>&nbsp;</div>
		</ion-item-group>  
	</ion-list>
</ion-content>
